<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>五笔输入法字母频率分布 - Renzhn's Blog</title>
<meta name="author" content="Renzhn">




<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<link rel="canonical" href="http://ohrz.net/blog/2014/03/26/wubi-letter-distribution">
<link href="/favicon.png" type="image/png" rel="icon">
<link href="" rel="alternate" title="Renzhn's Blog" type="application/atom+xml">

<link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


<script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>

<script type="text/javascript">
function addBlankTargetForLinks () {
	$('a[href^="http"]').each(function(){
	  $(this).attr('target', '_blank');
	});
	}

	$(document).bind('DOMNodeInserted', function(event) {
	addBlankTargetForLinks();
});
</script>



</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Renzhn's Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                <li >
                    <a href="/about">About</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                
                
            </ul>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <article class="hentry" role="article">
      
  <header class="page-header">
    
      <p class="text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2014-03-26T22:30:45+08:00" pubdate data-updated="true">2014/03/26 22:30</time>
        
      </p>
    
    
    <h1 class="entry-title">
        五笔输入法字母频率分布
        
    </h1>
    
  </header>


<div class="entry-content clearfix"><p>最近在学五笔的时候，想到了一个问题：“用五笔和拼音打字时按键的频率分别是怎样的？”</p>

<p>网上搜了下，找到了拼音的但没有找到五笔的，于是就写个程序来探究一下。</p>

<p>下面是查到的数据，作为参考<a href="http://zhidao.baidu.com/link?url=3iIPaXVJQg19Dw08ElPft4Nj5EZjK15-YgDy6sMvz0onvAGZxs6ntnTYFXclOw2fBU89RsLxyJ4P7NvCi6FJjq">（来源）</a></p>

<pre><code>统计数据：字母出现频率百分数
范文：中华人民共和国国家通用语言文字法（含新闻稿及主席令等）
拼写文字：汉语拼音方案（不加声调符号，词语连写）
附注：不计标点符号、阿拉伯数字、空格，只计算字母（包括大写、小写）
字母频率（大写/小写）
Aa(0.03/8.19)Bb(0.14/1.30)Cc(0.07/0.61)Dd(0.10/2.46)Ee(0.02/6.33)Ff(0.10/1.11)Gg(0.37/9.13)Hh(0.05/5055)Ii(0.03/12.89)Jj(0.10/2.19)Kk(0.00/0.20)Ll(0.02/0.64)Mm(0.02/0.84)Nn(0.02/12.54)Oo(0.02/7.00)Pp(0.00/0.68)Qq(0.03/0.59)Rr(0.02/0.83)Ss(0.05/2.19)Tt(0.07/1.72)Uu(0.03/9.37)Vv(0.00/0.00)Ww(0.08/1.77)Xx(0.17/1.00)Yy(0.03/5.49)Zz(0.19/3.04)
合计排序：
I(12.93) N(12.56) G(9.50) U(9.40) A(8.22) O(7.02) E(6.35) H(5.60) Y(5.52) Z(3.20) D(2.57) J(2.30) S(2.24) W(1.86) T(1.80) B(1.43) F(1.22) X(1.16) M(0.86) R(0.84) P(0.68) C(0.68) L(0.66) Q(0.62) K(0.20) V(0.00)
字母总数（含大小写）5925。
</code></pre>

<!-- more -->


<h2>开工</h2>

<p>程序的整体思路很简单：把一篇相当长的文本转换成分别用五笔和拼音全拼输入对应的英文字母，统计其中各字母出现的频率。</p>

<p>Python代码如下：（第一次写Python，边查资料边写的，欢迎批评指正。表示Python挺方便的，就是还不会调试。。）</p>

<pre><code># -*- coding: utf-8 -*-

textfilename = 'text.txt'
wubi = True
#wubi = False

print 'Wubi stats:' if wubi else 'Pinyin stats:'

dictfilename = 'wubi86.dict.txt' if wubi else 'pinyin_simp.dict.txt'
import csv
with open(dictfilename) as csvfile:
    spamreader = csv.reader(csvfile, delimiter='\t')
    lookupdict = {}
    for row in spamreader:
        if row[0] in lookupdict:
            #in rare cases, such as '绿'
            #will have two or more records in dict file
            #the later code 'lu' will replace 'lv'
            #ignore later one
            continue 
        lookupdict[row[0]] = row[1]

import string
result = {}
for letter in string.lowercase:
    result[letter] = 0

textfile = open(textfilename)
text = textfile.read()
text = unicode(text, 'utf-8')
textwordcount = 0
for char in text:
    char = char.encode('utf-8')
    if char not in lookupdict:
        continue;
    textwordcount += 1
    code = lookupdict[char]
    for codeletter in code:
        result[codeletter] += 1

print 'words: ' + str(textwordcount)

total = 0
for letter in result:
    total += result[letter]
total = float(total)

stat = {}
for letter, count in result.items():
    stat[letter.upper()] = count / total * 100;

letterDescList = sorted(stat, key = stat.get, reverse = True)
for letter in letterDescList:
    print letter + '\t' + '%.3f%%' % (stat[letter])
</code></pre>

<p>wubi86.dict.txt和pinyin_simp.dict.txt是提取自小狼毫的字库文件，text.txt是一篇18万字的文本。 完整的文件在我的github上：<a href="https://github.com/renzhn/WubiLetterDistribution">https://github.com/renzhn/WubiLetterDistribution</a></p>

<h2>统计结果</h2>

<h4>Using Wubi</h4>

<pre><code>Wubi stats:
words: 182387
G   6.857%
F   6.699%
T   6.476%
W   6.325%
D   5.238%
J   5.014%
R   4.743%
H   4.680%
U   4.631%
K   4.095%
Y   4.063%
N   4.010%
P   3.545%
Q   3.530%
M   3.504%
B   3.404%
L   3.313%
A   3.290%
C   3.162%
I   3.005%
E   2.824%
S   2.233%
X   2.067%
V   1.856%
O   1.437%
Z   0.000%
</code></pre>

<h4>Using Pinyin</h4>

<pre><code>Pinyin stats:
words: 182385
I   13.352%
N   11.770%
A   10.203%
E   8.196%
U   7.885%
G   6.829%
H   6.659%
O   5.429%
D   4.017%
Z   3.440%
J   2.835%
S   2.741%
Y   2.639%
L   2.215%
B   1.687%
X   1.413%
T   1.371%
M   1.367%
R   1.177%
C   1.100%
F   0.951%
Q   0.858%
W   0.812%
K   0.698%
P   0.294%
V   0.061%
</code></pre>

<p>可以看出，五笔的字母频率分布更均匀。表明用五笔打字除了速度快、可以熟悉字形之外还有利于熟悉键盘键位。</p>
</div>


      <footer>
        <p class="text-muted">
          
  

<span class="glyphicon glyphicon-user"></span> <span class="byline author vcard">Posted by <span class="fn">Renzhn</span></span>

           &nbsp;
          












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2014-03-26T22:30:45+08:00" pubdate data-updated="true">2014/03/26 22:30</time>
           &nbsp;
          


        </p>
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/blog/2014/03/18/a-very-important-post/" title="Previous Post: 一篇重要的帖子">&laquo; 一篇重要的帖子</a></li>
            
            
          </ul>
        
      </footer>
    </article>
    
      <section>
        <h1>Comments</h1>
        <div class="ds-thread" aria-live="polite">
<script type="text/javascript">
var duoshuoQuery = {short_name:'ohrz'};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>

</div>
      </section>
    
  </div>

  
  <aside class="sidebar col-md-3">
    
      <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item active" href="/blog/2014/03/26/wubi-letter-distribution/">五笔输入法字母频率分布</a>
    
    <a class="list-group-item " href="/blog/2014/03/18/a-very-important-post/">一篇重要的帖子</a>
    
  </div>
</section>






    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - Renzhn<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>



  </body>
</html>
